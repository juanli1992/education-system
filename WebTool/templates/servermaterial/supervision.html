<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Dashboard">
    <meta name="keyword" content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
    <title>Dashio - Bootstrap Admin Template</title>

    <!-- Favicons -->
    <link href="/templates/servermaterial/img/favicon.png" rel="icon">
    <link href="/templates/servermaterial/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Bootstrap core CSS -->
    <link href="/templates/servermaterial/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!--external css-->
    <link href="/templates/servermaterial/lib/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <!-- Custom styles for this template -->
    <link href="/templates/servermaterial/css/style.css" rel="stylesheet">
    <link href="/templates/servermaterial/css/style-responsive.css" rel="stylesheet">

    <!-- =======================================================
        Template Name: Dashio
        Template URL: https://templatemag.com/dashio-bootstrap-admin-template/
        Author: TemplateMag.com
        License: https://templatemag.com/license/
    ======================================================= -->
  </head>
  <body>
    <!-- **********************************************************************************************************************************************************
      TOP BAR CONTENT & NOTIFICATIONS
      *********************************************************************************************************************************************************** -->
    <!--header start-->
    {% include 'servermaterial/header.html' %}
    <!--header end-->

    <!--sidebar start-->
    {% include 'servermaterial/sidebar.html' %}
    <!--sidebar end-->

    <!-- **********************************************************************************************************************************************************
    MAIN CONTENT
    *********************************************************************************************************************************************************** -->
    <!--main content start-->
    <section id="main-content">
      <section class="wrapper site-min-height">
        <div class="col-lg-12 mt">
          <div class="row content-panel">
            <div class="col-lg-12 detailed">
              <h4>查询选项</h4>
              <form action="/web/inquiry/" method="get" role="form" class="form-horizontal">
                <div class="form-group col-lg-4">
                  <label class="col-lg-3 control-label">学院</label>
                  <div class="col-lg-8">
                    <select class="form-control" id="school">
                      <option value="电子信息与电气工程学院">电子信息与电气工程学院</option>
                      <option value="机械与动力工程学院">机械与动力工程学院</option>
                      <option value="人文学院">人文学院</option>
                      <option value="数学科学学院">数学科学学院</option>
                    </select>
                  </div>
                </div>
                <div class="form-group col-lg-4">
                  <label class="col-lg-3 control-label">专业</label>
                  <div class="col-lg-8">
                    <input type="text" placeholder="电信" class="form-control">
                    </select>
                  </div>
                </div>
                <div class="form-group col-lg-4">
                  <label class="col-lg-3 control-label">年级</label>
                  <div class="col-lg-8">
                    <select class="form-control">
                      <option value="volvo">本科一年级</option>
                      <option value="volvo">本科二年级</option>
                      <option value="saab">本科三年级</option>
                      <option value="mercedes">本科四年级</option>
                    </select>
                  </div>
                </div>
                <div class="form-group col-lg-4">
                  <label class="col-lg-3 control-label">班级</label>
                  <div class="col-lg-8">
                    <select class="form-control">
                      <option value="volvo">B13033910</option>
                      <option value="volvo">B14033910</option>
                      <option value="saab">B15033910</option>
                      <option value="mercedes">B16033910</option>
                    </select>
                  </div>
                </div>
                <div class="form-group col-lg-4">
                  <label class="col-lg-3 control-label">姓名</label>
                  <div class="col-lg-8">
                    <select class="form-control">
                      <option value="volvo">张三</option>
                      <option value="volvo">李四</option>
                      <option value="saab">王五</option>
                    </select>
                  </div>
                </div>
                <div class="form-group col-lg-4">
                  <label class="col-lg-3 control-label">学号</label>
                  <div class="col-lg-8">
                    <select class="form-control">
                      <option value="volvo">123456789</option>
                      <option value="volvo">123456789</option>
                      <option value="saab">123456789</option>
                      <option value="mercedes">123456789</option>
                    </select>
                  </div>
                </div>
                <div class="form-group col-lg-4">
                  <label class="col-lg-3 control-label">时间范围</label>
                  <div class="col-lg-8">
                    <select id="time" class="form-control">
                      <option value="20162">最近一个学期</option>
                      <option value="20161">最近两个学期</option>
                    </select>
                  </div>
                </div>
                <div class="form-group col-lg-4">
                  <label class="col-lg-3 control-label">数据</label>
                  <div class="col-lg-8">
                    <select class="form-control">
                      <option value="volvo">平均成绩</option>
                    </select>
                  </div>
                </div>
                <div class="form-group col-lg-4">
                  <label class="col-lg-3 control-label">阈值</label>
                  <div class="col-lg-8">
                    <input type="text" placeholder="60" id="threshold" class="form-control">
                  </div>
                </div>
                <div class="form-group col-lg-4">
                  备注：可直接指定学号；如查询集体情况，可不指定班级，但需指定学院、专业、年级。
                </div>
                <div class="form-group col-lg-4">
                  <button class="btn btn-theme" id="inquirybtn" name="inquirybtn" type="button" onclick="charts()">查询</button>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="col-lg-12 detailed">
          <div class="row content-panel">
            <h4>成长记录</h4>
            <div class="panel-heading">
              <ul class="nav nav-tabs nav-justified">
                <li class="active">
                  <a data-toggle="tab" href="#all">总体情况</a>
                </li>
                <li>
                  <a data-toggle="tab" href="#good">表现良好</a>
                </li>
                <li>
                  <a data-toggle="tab" href="#bad">需要预警</a>
                </li>
              </ul>
            </div>
            <!-- /panel-heading -->
            <div class="panel-body">
              <div class="tab-content">
                <!-- /总体情况 -->
                <div id="all" class="tab-pane active">
                  <div class="row mt">
                    <div class="col-lg-6">
                      <div id="chart-1" style="width: 400px;height:350px;"></div>
                    </div>
                    <div class="col-lg-6">
                      <div id="chart-2" style="width: 400px;height:350px;"></div>
                    </div>
                  </div>
                  <div class="row mt">
                    <div class="col-lg-6">
                      <div id="chart-3" style="width: 400px;height:350px;"></div>
                    </div>
                    <div class="col-lg-6">
                      <div id="chart-4" style="width: 400px;height:350px;"></div>
                    </div>
                  </div>
                </div>

                <!-- /表现良好 -->
                <div id="good" class="tab-pane">
                </div>

                <!-- /需要预警 -->
                <div id="bad" class="tab-pane">
                </div>
              </div>
              <!-- /tab-content -->
            </div>
            <!-- /panel-body -->
          </div>
          <!-- /row content-panel -->
        </div>
        <!-- /col-lg-12 -->
      </section>
      <!-- /wrapper -->
    </section>
    <!-- /MAIN CONTENT -->
    <!--main content end-->

    <!--footer start-->
    {% include 'servermaterial/footer.html' %}
    <!--footer end-->

    <!-- js placed at the end of the document so the pages load faster -->
    <script src="/templates/servermaterial/lib/jquery/jquery.min.js"></script>
    <script src="/templates/servermaterial/lib/bootstrap/js/bootstrap.min.js"></script>
    <script class="include" type="text/javascript" src="/templates/servermaterial/lib/jquery.dcjqaccordion.2.7.js"></script>
    <script src="/templates/servermaterial/lib/jquery.scrollTo.min.js"></script>
    <script src="/templates/servermaterial/lib/jquery.nicescroll.js" type="text/javascript"></script>
    <!--common script for all pages-->
    <script src="/templates/servermaterial/lib/common-scripts.js"></script>
    <!--script for this page-->
    <script src="/templates/servermaterial/lib/jquery-ui-1.9.2.custom.min.js"></script>
    <script type="text/javascript" src="/templates/servermaterial/lib/bootstrap-fileupload/bootstrap-fileupload.js"></script>
    <script type="text/javascript" src="/templates/servermaterial/lib/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
    <script type="text/javascript" src="/templates/servermaterial/lib/bootstrap-daterangepicker/date.js"></script>
    <script type="text/javascript" src="/templates/servermaterial/lib/bootstrap-daterangepicker/daterangepicker.js"></script>
    <script type="text/javascript" src="/templates/servermaterial/lib/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script>
    <script type="text/javascript" src="/templates/servermaterial/lib/bootstrap-daterangepicker/moment.min.js"></script>
    <script type="text/javascript" src="/templates/servermaterial/lib/bootstrap-timepicker/js/bootstrap-timepicker.js"></script>
    <script src="/templates/servermaterial/lib/advanced-form-components.js"></script>
    <!--script for this page-->
    <script src="/templates/servermaterial/lib/morris-conf.js"></script>
    <script src="/templates/servermaterial/lib/morris/morris.min.js"></script>
    <script src="/templates/servermaterial/lib/raphael/raphael.min.js"></script>
    <!--script for charts-->
    <script src="/templates/servermaterial/lib/echarts.min.js"></script>

    <script>
      function charts()
      {
        var school = $("#school").val();
        var time = $("#time").val();
        var threshold = $("#threshold").val();

        $.post("/web/inquiry/",{'school':school, 'time':time, 'threshold':threshold}, function(ret){

            alert("hah")
            //累积分布函数

            var myChart = echarts.init(document.getElementById('chart-1'));

            option = {
              title: {
                  text: '累积分布函数',
              },
              tooltip: {
                  trigger: 'axis'
              },
              toolbox: {
                  show: true,
                  feature: {
                      dataZoom: {
                          yAxisIndex: 'none'
                      },
                      dataView: {readOnly: false},
                      magicType: {type: ['line', 'bar']},
                      restore: {},
                      saveAsImage: {}
                  }
              },
              xAxis:  {
                  type: 'category',
                  boundaryGap: false,
                  data: ['0','10', '20', '30', '40', '50', '60', '70', '80', '90', '100']
              },
              yAxis: {
                  type: 'value',
                  axisLabel: {
                      formatter: '{value}'
                  }
              },
              series: [
                  {
                      name:'概率密度',
                      type:'line',
                      data: ret['cdfall']
                  },
              ]
            };
            // 使用刚指定的配置项和数据显示图表。
            myChart.setOption(option);


            //概率密度函数
            var myChart = echarts.init(document.getElementById('chart-2'));

            option = {
              title: {
                  text: '概率密度函数',
              },
              tooltip: {
                  trigger: 'axis'
              },
              toolbox: {
                  show: true,
                  feature: {
                      dataZoom: {
                          yAxisIndex: 'none'
                      },
                      dataView: {readOnly: false},
                      magicType: {type: ['line', 'bar']},
                      restore: {},
                      saveAsImage: {}
                  }
              },
              xAxis:  {
                  type: 'category',
                  boundaryGap: false,
                  data: ['0','10', '20', '30', '40', '50', '60', '70', '80', '90', '100']
              },
              yAxis: {
                  type: 'value',
                  axisLabel: {
                      formatter: '{value}'
                  }
              },
              series: [
                  {
                      name:'概率密度',
                      type:'line',
                      data: ret['pdfall'],
                      markPoint: {
                          data: [
                              {type: 'max', name: '最大值'},
                              {type: 'min', name: '最小值'}
                          ]
                      },
                      markLine: {
                          data: [
                              {type: 'average', name: '平均值'}
                          ]
                      }
                  },
              ]
            };
            // 使用刚指定的配置项和数据显示图表。
            myChart.setOption(option);

            //各个成绩段的人数
            var myChart = echarts.init(document.getElementById('chart-3'));
            option = {
              title : {
                  text: '各成绩段人数',
              },
              tooltip : {
                  trigger: 'axis'
              },
              //legend: {
                  //data:['蒸发量','降水量']
              //},
              toolbox: {
                  show : true,
                  feature : {
                      dataView : {show: true, readOnly: false},
                      magicType : {show: true, type: ['line', 'bar']},
                      restore : {show: true},
                      saveAsImage : {show: true}
                  }
              },
              calculable : true,
              xAxis : [
                  {
                      type : 'category',
                      data : ['10','20','30','40','50','60','70','80','90','100']
                  }
              ],
              yAxis : [
                  {
                      type : 'value'
                  }
              ],
              series : [
                  {
                      name:'人数',
                      type:'bar',
                      data:ret['num'],
                      markPoint : {
                          data : [
                              {type : 'max', name: '最大值'},
                              {type : 'min', name: '最小值'}
                          ]
                      },
                      markLine : {
                          data : [
                              {type : 'average', name: '平均值'}
                          ]
                      }
                  }                 
              ]
            };
            myChart.setOption(option);

            //表现良好和表现不好的比例
            var myChart = echarts.init(document.getElementById('chart-4'));
            option = {
              title: {
                  text: '良好/预警学生比例',
                  left: 'center'
              },
              tooltip : {
                  trigger: 'item',
                  formatter: "{a} <br/>{b} : {c} ({d}%)"
              },
              legend: {
                  // orient: 'vertical',
                  // top: 'middle',
                  bottom: 10,
                  left: 'center',
                  data: ['表现良好','需要预警']
              },
              series : [
                  {
                      type: 'pie',
                      radius : '65%',
                      center: ['50%', '50%'],
                      selectedMode: 'single',
                      data:[
                          {value:1548,name: '幽州',},
                          {value:535, name: '荆州'},
                      ],
                      itemStyle: {
                          emphasis: {
                              shadowBlur: 10,
                              shadowOffsetX: 0,
                              shadowColor: 'rgba(0, 0, 0, 0.5)'
                          }
                      }
                  }
              ]
            };
            myChart.setOption(option);



        });


      }
    </script>

    <script type="text/javascript">

      var myChart = echarts.init(document.getElementById('chart-1'));

      option = {
        title: {
            text: '概率密度函数',
        },
        tooltip: {
            trigger: 'axis'
        },
        toolbox: {
            show: false,
            feature: {
                dataZoom: {
                    yAxisIndex: 'none'
                },
                dataView: {readOnly: false},
                magicType: {type: ['line', 'bar']},
                restore: {},
                saveAsImage: {}
            }
        },
        xAxis:  {
            type: 'category',
            boundaryGap: false,
            data: ['0','20','40','60','80','100']
        },
        yAxis: {
            type: 'value',
            axisLabel: {
                formatter: '{value}'
            }
        },
        series: [
            {
                name:'概率密度',
                type:'line',
                data:[11, 11, 15, 13, 12, 13],
                markPoint: {
                    data: [
                        {type: 'max', name: '最大值'},
                        {type: 'min', name: '最小值'}
                    ]
                },
                markLine: {
                    data: [
                        {type: 'average', name: '平均值'}
                    ]
                }
            },
        ]
      };

      // 使用刚指定的配置项和数据显示图表。
      myChart.setOption(option);

    </script>

    <script type="text/javascript">

      var myChart = echarts.init(document.getElementById('chart-2'));

      option = {
        title: {
            text: '累积分布函数',
        },
        tooltip: {
            trigger: 'axis'
        },
        toolbox: {
            show: false,
            feature: {
                dataZoom: {
                    yAxisIndex: 'none'
                },
                dataView: {readOnly: false},
                magicType: {type: ['line', 'bar']},
                restore: {},
                saveAsImage: {}
            }
        },
        xAxis:  {
            type: 'category',
            boundaryGap: false,
            data: ['0','20','40','60','80','100']
        },
        yAxis: {
            type: 'value',
            axisLabel: {
                formatter: '{value}'
            }
        },
        series: [
            {
                name:'概率密度',
                type:'line',
                data:[11, 11, 15, 13, 12, 13],
                markPoint: {
                    data: [
                        {type: 'max', name: '最大值'},
                        {type: 'min', name: '最小值'}
                    ]
                },
                markLine: {
                    data: [
                        {type: 'average', name: '平均值'}
                    ]
                }
            },
        ]
      };

      // 使用刚指定的配置项和数据显示图表。
      myChart.setOption(option);

    </script>

    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('chart-3'));

        // 指定图表的配置项和数据
        var option = {
            title: {
                text: 'ECharts 入门示例'
            },
            tooltip: {},
            legend: {
                data:['销量']
            },
            xAxis: {
                data: ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]
            },
            yAxis: {},
            series: [{
                name: '销量',
                type: 'bar',
                data: [5, 20, 36, 10, 10, 20]
            }]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
    
  </body>
</html>
